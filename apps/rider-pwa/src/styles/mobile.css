/* Mobile-First Responsive Utilities */

/* Touch-Friendly Interactions */
@layer utilities {
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
  
  .touch-feedback {
    @apply active:scale-95 transition-transform duration-150;
  }
  
  .no-tap-highlight {
    -webkit-tap-highlight-color: transparent;
  }
}

/* Mobile-Optimized Spacing */
@layer utilities {
  .mobile-safe-area {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  .mobile-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }
  
  .mobile-section-spacing {
    @apply space-y-4 sm:space-y-6 lg:space-y-8;
  }
}

/* Mobile Typography */
@layer utilities {
  .mobile-heading-1 {
    @apply text-2xl sm:text-3xl lg:text-4xl font-black;
  }
  
  .mobile-heading-2 {
    @apply text-xl sm:text-2xl lg:text-3xl font-bold;
  }
  
  .mobile-heading-3 {
    @apply text-lg sm:text-xl lg:text-2xl font-semibold;
  }
  
  .mobile-body {
    @apply text-sm sm:text-base;
  }
  
  .mobile-caption {
    @apply text-xs sm:text-sm;
  }
}

/* Mobile Grid Systems */
@layer utilities {
  .mobile-grid-1 {
    @apply grid grid-cols-1 gap-4 sm:gap-6;
  }
  
  .mobile-grid-2 {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6;
  }
  
  .mobile-grid-3 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6;
  }
  
  .mobile-grid-4 {
    @apply grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6;
  }
  
  .mobile-grid-auto {
    @apply grid grid-cols-[repeat(auto-fit,minmax(280px,1fr))] gap-4 sm:gap-6;
  }
}

/* Mobile Cards */
@layer utilities {
  .mobile-card {
    @apply bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6;
  }
  
  .mobile-card-compact {
    @apply bg-white rounded-lg sm:rounded-xl shadow-sm p-3 sm:p-4;
  }
}

/* Mobile Buttons */
@layer utilities {
  .mobile-btn {
    @apply px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base font-semibold rounded-xl touch-target touch-feedback;
  }
  
  .mobile-btn-sm {
    @apply px-3 sm:px-4 py-2 text-xs sm:text-sm font-semibold rounded-lg touch-target touch-feedback;
  }
  
  .mobile-btn-lg {
    @apply px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-bold rounded-2xl touch-target touch-feedback;
  }
}

/* Mobile Navigation */
@layer utilities {
  .mobile-nav-item {
    @apply flex items-center gap-3 px-4 py-3 sm:py-3.5 rounded-xl font-medium touch-target touch-feedback no-tap-highlight;
  }
  
  .mobile-tab {
    @apply px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold rounded-lg touch-target touch-feedback;
  }
}

/* Mobile Modal/Drawer */
@layer utilities {
  .mobile-drawer {
    @apply fixed inset-x-0 bottom-0 bg-white rounded-t-3xl shadow-2xl transform transition-transform duration-300 max-h-[90vh] overflow-y-auto;
  }
  
  .mobile-modal {
    @apply fixed inset-4 sm:inset-8 lg:inset-auto lg:left-1/2 lg:top-1/2 lg:-translate-x-1/2 lg:-translate-y-1/2 lg:max-w-2xl lg:w-full bg-white rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden;
  }
}

/* Mobile Forms */
@layer utilities {
  .mobile-input {
    @apply w-full px-4 py-3 sm:py-3.5 text-sm sm:text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent touch-target;
  }
  
  .mobile-select {
    @apply w-full px-4 py-3 sm:py-3.5 text-sm sm:text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none touch-target;
  }
  
  .mobile-textarea {
    @apply w-full px-4 py-3 text-sm sm:text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none;
  }
}

/* Mobile Images */
@layer utilities {
  .mobile-avatar-sm {
    @apply w-8 h-8 sm:w-10 sm:h-10 rounded-full;
  }
  
  .mobile-avatar {
    @apply w-10 h-10 sm:w-12 sm:h-12 rounded-full;
  }
  
  .mobile-avatar-lg {
    @apply w-16 h-16 sm:w-20 sm:h-20 rounded-full;
  }
  
  .mobile-icon-sm {
    @apply w-4 h-4 sm:w-5 sm:h-5;
  }
  
  .mobile-icon {
    @apply w-5 h-5 sm:w-6 sm:h-6;
  }
  
  .mobile-icon-lg {
    @apply w-6 h-6 sm:w-8 sm:h-8;
  }
}

/* Mobile List Items */
@layer utilities {
  .mobile-list-item {
    @apply flex items-center gap-3 sm:gap-4 p-3 sm:p-4 border-b border-gray-100 touch-feedback;
  }
  
  .mobile-list-item-card {
    @apply flex items-start gap-3 sm:gap-4 p-4 sm:p-5 bg-white rounded-xl shadow-sm touch-feedback;
  }
}

/* Mobile Stats */
@layer utilities {
  .mobile-stat-card {
    @apply bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm;
  }
  
  .mobile-stat-value {
    @apply text-2xl sm:text-3xl lg:text-4xl font-black;
  }
  
  .mobile-stat-label {
    @apply text-xs sm:text-sm text-gray-600;
  }
}

/* Mobile Badges */
@layer utilities {
  .mobile-badge {
    @apply inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs sm:text-sm font-semibold rounded-lg;
  }
  
  .mobile-badge-dot {
    @apply w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full;
  }
}

/* Mobile Scrolling */
@layer utilities {
  .mobile-scroll-horizontal {
    @apply flex gap-3 sm:gap-4 overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-2;
  }
  
  .mobile-scroll-item {
    @apply flex-shrink-0 snap-start;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Mobile Bottom Navigation */
@layer utilities {
  .mobile-bottom-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-bottom z-50;
  }
  
  .mobile-bottom-nav-item {
    @apply flex flex-col items-center justify-center gap-1 py-2 touch-target touch-feedback;
  }
  
  .safe-bottom {
    padding-bottom: calc(env(safe-area-inset-bottom) + 0.5rem);
  }
}

/* Mobile Floating Action Button */
@layer utilities {
  .mobile-fab {
    @apply fixed bottom-20 sm:bottom-24 right-4 sm:right-6 w-14 h-14 sm:w-16 sm:h-16 bg-green-600 text-white rounded-full shadow-2xl flex items-center justify-center touch-feedback z-40;
  }
}

/* Mobile Skeleton Loading */
@layer utilities {
  .mobile-skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }
  
  .mobile-skeleton-text {
    @apply h-4 sm:h-5 bg-gray-200 rounded animate-pulse;
  }
  
  .mobile-skeleton-heading {
    @apply h-6 sm:h-8 bg-gray-200 rounded animate-pulse;
  }
}

/* Mobile Pull-to-Refresh */
@layer utilities {
  .mobile-pull-to-refresh {
    @apply overscroll-behavior-y-contain;
  }
}

/* Mobile Swipe Actions */
@layer utilities {
  .mobile-swipe-left {
    @apply touch-pan-x;
  }
  
  .mobile-swipe-right {
    @apply touch-pan-x;
  }
}

/* Responsive Visibility */
@layer utilities {
  .mobile-only {
    @apply block sm:hidden;
  }
  
  .tablet-up {
    @apply hidden sm:block;
  }
  
  .desktop-only {
    @apply hidden lg:block;
  }
}

/* Mobile Performance */
@layer utilities {
  .mobile-optimize {
    @apply will-change-transform;
  }
  
  .mobile-gpu-accelerate {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}

/* Mobile Container */
@layer utilities {
  .mobile-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .mobile-container-narrow {
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .mobile-container-wide {
    @apply max-w-full mx-auto px-4 sm:px-6 lg:px-8;
  }
}

/* Mobile Spacing Scale */
@layer utilities {
  .mobile-space-y-sm {
    @apply space-y-2 sm:space-y-3;
  }
  
  .mobile-space-y-md {
    @apply space-y-4 sm:space-y-6;
  }
  
  .mobile-space-y-lg {
    @apply space-y-6 sm:space-y-8;
  }
  
  .mobile-gap-sm {
    @apply gap-2 sm:gap-3;
  }
  
  .mobile-gap-md {
    @apply gap-3 sm:gap-4 lg:gap-6;
  }
  
  .mobile-gap-lg {
    @apply gap-4 sm:gap-6 lg:gap-8;
  }
}
